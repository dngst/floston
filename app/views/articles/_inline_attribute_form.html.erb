<%= turbo_frame_tag params[:attribute] do %>
  <%= form_with(model: article, url: [article, attribute: params[:attribute]], method: :patch) do |form| %>

    <% if params[:attribute].eql? 'title' %>
      <div class="mt-4">
        <%= form.text_field :title, class: "w-full px-4 py-2 border rounded border-gray-300", onfocusout: 'this.form.requestSubmit()' %>
        <% if @article.errors.include?(:title) %>
          <% @article.errors.full_messages_for(:title).each do |error| %>
            <p class="text-red-500 mt-2"><%= error %></p>
          <% end %>
        <% end %>
      </div>
    <% end %>

    <% if params[:attribute].eql? 'body' %>
      <div class="mt-4">
        <%= form.text_area :body, class: "w-full px-4 py-2 border rounded border-gray-300 h-64", onfocusout: 'this.form.requestSubmit()' %>
        <% if @article.errors.include?(:body) %>
          <% @article.errors.full_messages_for(:body).each do |error| %>
            <p class="text-red-500 mt-2"><%= error %></p>
          <% end %>
        <% end %>
      </div>
    <% end %>

    <div class="mt-4">
      <%= form.hidden_field :admin_id, value: current_user.id %>
    </div>

    <% if params[:attribute].eql? 'published' %>
      <div class="mt-4">
        <%= form.check_box :published, class: "mr-2 border rounded hover:cursor-pointer", onfocusout: 'this.form.requestSubmit()' %>
        <span class="text-gray-800">Publish</span>
      </div>
    <% end %>
  <% end %>
<% end %>
