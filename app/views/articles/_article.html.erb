<div id="<%= dom_id article %>" class="">
  <% Article::INLINE_EDITABLE_ATTRS.each do |attribute| %>
    <%= turbo_frame_tag attribute do %>
      <% if attribute == :title %>
        <h1 class="text-4xl font-bold <%= article.published ? 'text-gray-800' : 'text-orange-500' %> mb-4">
          <% if current_user&.admin? %>
            <%= link_to (article[attribute].presence || 'Edit'), [:edit, article, attribute: attribute] %>
          <% else %>
            <%= article.title %>
          <% end %>
        </h1>
        <p class="text-gray-600 text-sm"><%= date_format(article.created_at) %></p>
      <% elsif attribute == :property_id %>
        <p class="mt-8 flex items-center">
          <% cache('bx-building-house.svg') do %>
            <%= image_tag "bx-building-house.svg", class: "w-6 mr-2" %>
          <% end %>
         <%= Property.find_by(id: article[attribute]).name %>
        </p>
      <% elsif attribute == :published %>
        <% if current_user&.admin? %>
          <%= turbo_frame_tag "published_checkbox" do %>
            <%= form_with(model: article, url: [article, attribute: :published], method: :patch) do |form| %>
              <div class="mt-3 mb-8">
                <%= form.check_box :published, class: "text-flostonlink mr-2 border rounded-lg hover:cursor-pointer", onchange: 'this.form.requestSubmit()' %>
                <span class="text-gray-800">Published</span>
              </div>
            <% end %>
          <% end %>
        <% end %>
      <% else %>
        <p class="my-4 leading-[1.75em]" style="white-space: pre-line;">
          <% if current_user&.admin? %>
            <%= link_to (article[attribute].presence || 'Edit'), [:edit, article, attribute: attribute] %>
          <% else %>
            <%= article.body %>
          <% end %>
        </p>
      <% end %>
    <% end %>
  <% end %>
</div>
