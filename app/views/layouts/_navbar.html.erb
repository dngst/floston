<div data-controller="navbar" data-action="resize@window->navbar#closeOnBigScreen" class="navbar">
  <nav>
    <div class="nav-container">
      <!-- Logo -->
      <%= link_to root_path, class: "home-link" do %>
        <p class="nav-logo <%= 'hidden md:flex' if user_signed_in? %>">Floston</p>
      <% end %>

      <% if user_signed_in? %>

        <!-- Search Bar -->
        <%= render 'search/form' %>

        <!-- Navigation Links -->
        <div class="space-x-6 hidden lg:flex">
          <% if user_is_admin? %>
            <%= active_link_to "Tenants", users_path %>
            <%= active_link_to "Properties", properties_path %>
          <% end %>
          <%= active_link_to "Requests", user_requests_path(current_user) %>
          <%= link_to destroy_user_session_path, class: "sign-out", data: { turbo_method: :delete, turbo_confirm: "Sign out?" } do %>
            Sign out
          <% end %>
        </div>

        <!-- Profile Icon -->
        <%= link_to user_path(current_user) do %>
          <div class="flex items-center">
            <div class="profile-icon">
              <%= image_tag "https://cdn.boxicons.com/svg/basic/bx-user.svg", alt: "Profile", class: "h-8 w-8" %>
            </div>
          <% end %>
          <div class="lg:hidden" role="button" data-action="click->navbar#toggle">
            <%= image_tag "https://cdn.boxicons.com/svg/basic/bx-menu.svg", alt: "Menu", class: "h-8 w-8" %>
          </div>
          </div>
        <% else %>
          <div class="space-x-6">
            <%= link_to "Sign in", new_user_session_path, class: "sign-in" %>
          </div>
        <% end %>
    </div>
  </nav>

  <!-- Mobile Navigation -->
  <%= render "layouts/mobile_nav" %>
</div>
